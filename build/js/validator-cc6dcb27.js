var Validator={emailRegex:/^\s*[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/,confirmation:["email"],validateRegexes:function(t,i){return this[t+"Regex"].test(i)},validateConfirmations:function(t){if(-1==t.attr("name").indexOf("confirmation"))return!0;var i=t.attr("type"),a=$("input[type="+i+"]");return $(a[0]).val()==$(a[1]).val()},valid:function(t,i){return this.validateRegexes(t,i.val())&&this.validateConfirmations(i)},validateField:function(t){var i=this.validateMethod(t),a=this.valid(i,t);return this.validateConfirmations(t),this.displayErrorMessage(t,a,i),a},validateMethod:function(t){return t.data("validate-as")||t.attr("type")},displayErrorMessage:function(t,i){t.closest(".form-input").toggleClass("error",!i)},numInvalid:function(t){var i=t.closest("form").find("input").not(":input[type=submit]");return $.grep(i,function(t){return!Validator.validateField($(t))}).length},isValidForm:function(t){var i=0==this.numInvalid(t);return t.toggleClass("valid",i),i}};$(function(){$("form").focusout(function(t){var i=$(t.target);i.is("input")&&i.val()&&Validator.validateField(i)}),$("form").submit(function(t){Validator.isValidForm($("input[type=submit]"))||t.preventDefault()})});