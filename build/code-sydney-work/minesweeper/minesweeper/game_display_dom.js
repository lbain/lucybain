function DisplayDom(o){var t=this;this.board=o,this.$board=$("#board"),this.showBoard(),this.$board.on("contextmenu",".cell",function(o){return t.rightMouseClick(event),!1}),this.$board.on("click",function(o){$(o.target).hasClass("cell")&&(o.preventDefault(),1===o.which&&t.leftMouseClick(o))}),$(document).on("displayCell",function(o){var t=$(".cell[row="+o.row+"][col="+o.col+"]");t.removeClass(function(o,t){return(t.match(/(^|\s)found-\S+/g)||[]).join(" ")}),o.mark&&t.addClass("found"),""!=o.text&&t.addClass("found-"+o.text)})}DisplayDom.prototype.showBoard=function(){for(var o=0;o<this.board.gridSize;o++){this.$board.append('<div class="row"></div>');for(var t=this.$board.find(".row:last-child"),r=0;r<this.board.gridSize;r++)t.append('<div class="cell" row="'+o+'" col="'+r+'">&nbsp</div>')}},DisplayDom.prototype.resultDisplay=function(){var o='<p class="result">';return o+=this.board.isWon()?"You won!":"Sorry, you lost.",o+="</p>"},DisplayDom.prototype.checkEndGame=function(o){this.board.isFinished()&&(this.$board.off("click"),this.$board.off("contextmenu"),this.$board.after(this.resultDisplay()),this.board.revealAllCells())},DisplayDom.prototype.rightMouseClick=function(o){var t=this.posFromEvent(o);this.board.flagCell(t.row,t.col)},DisplayDom.prototype.leftMouseClick=function(o){if(!$(o.target).hasClass("found")){var t=this.posFromEvent(o);this.board.makeMove(t.row,t.col),this.checkEndGame()}},DisplayDom.prototype.posFromEvent=function(o){var t=parseInt($(o.target).attr("col")),r=parseInt($(o.target).attr("row"));return{row:r,col:t}};