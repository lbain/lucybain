function Missile(t,i,s,h){this.x=t,this.y=i,this.radius=5,this.souce_x=t,this.souce_y=i,this.dx=s,this.dy=h,this.alive=!0,$.extend(this,hitable)}Missile.prototype.move=function(){this.x+=this.dx,this.y+=this.dy},Missile.prototype.setFromBuilding=function(t){var i=this.closestBuilding(this.x,t);this.deltas(i)},Missile.prototype.setFromClick=function(t,i){var s=this.closestBuilding(t.x,i);this.x=s.x,this.y=s.y-s.radius-this.radius-3,this.deltas(t)},Missile.prototype.closestBuilding=function(t,i){var s=$.map(i,function(i){return Math.abs(i.x-t)});return i[s.indexOf(Math.min.apply(Math,s))]},Missile.prototype.deltas=function(t){var i=t.x-this.x,s=t.y-this.y;this.dx=i/Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),this.dy=s/Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),this.randomSpeed()},Missile.prototype.randomSpeed=function(){var t=randomNumber(1)+1;t*=2-Math.abs(Math.abs(this.dx)-Math.abs(this.dy)),this.dx*=t,this.dy*=t};