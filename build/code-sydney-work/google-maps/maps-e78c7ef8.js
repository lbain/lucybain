$.fn.serializeObject=function(){var e={},n=this.serializeArray();return $.each(n,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},function(){function e(){var e;this.init=function(){var n={center:{lat:-34.397,lng:150.644},zoom:8};return e=new google.maps.Map(document.getElementById("map-canvas"),n),this},this.createMarker=function(n,t,i){var a=new google.maps.Marker({position:new google.maps.LatLng(n,t),map:e,title:i}),o=new google.maps.InfoWindow({content:i});return google.maps.event.addListener(a,"click",function(){o.open(e,a)}),a},this.init()}var n=new e;$(function(){n.init(),$("form").submit(function(e){e.preventDefault();var t=$(e.target).serializeObject();n.createMarker(t.lat,t.lng,t.message)})})}();