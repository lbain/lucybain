var Validator={emailRegex:/^\s*[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/,passwordRegex:/^[a-z]+$/,numberRegex:/^[0-9]+$/,countryRegex:/[a-zA-Z]{2,}/,confirmation:["email","password"],validateRegexes:function(t,a){return this[t+"Regex"].test(a)},validateConfirmations:function(t){var a=t.attr("name");if(-1==a.indexOf("confirmation"))return!0;var i=t.attr("type"),e=$("input[type="+i+"]");return $(e[0]).val()==$(e[1]).val()},valid:function(t,a){return this.validateRegexes(t,a.val())&&this.validateConfirmations(a)},validateField:function(t){var a=this.validateMethod(t),i=this.valid(a,t);return this.validateConfirmations(t),this.displayErrorMessage(t,i,a),i},validateMethod:function(t){return t.data("validate-as")||t.attr("type")},displayErrorMessage:function(t,a,i){var e=t.closest(".form-input");e.toggleClass("error",!a)},numInvalid:function(t){var a=t.closest("form").find("input").not(":input[type=submit]");return $.grep(a,function(t,a){return!Validator.validateField($(t))}).length},isValidForm:function(t){var a=0==this.numInvalid(t);return t.toggleClass("valid",a),a}};$(function(){$("form").focusout(function(t){var a=$(t.target);a.is("input")&&a.val()&&Validator.validateField(a)}),$("form").submit(function(t){Validator.isValidForm($("input[type=submit]"))?alert("succes!"):t.preventDefault()})});