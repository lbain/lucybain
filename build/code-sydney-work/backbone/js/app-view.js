var app=app||{};app.AppView=Backbone.View.extend({el:"#todoapp",initialize:function(){this.input=this.$("#new-todo"),app.todoList.on("add",this.addOne,this),app.todoList.on("reset",this.addAll,this),app.todoList.fetch()},events:{"keypress #new-todo":"createTodoOnEnter"},createTodoOnEnter:function(t){13===t.which&&this.input.val().trim()&&(app.todoList.create(this.newAttributes()),this.input.val(""))},addOne:function(t){var e=new app.TodoView({model:t}),i=e.render().$el;i.data("model",t),$("#todo-list").append(i)},addAll:function(){this.$("#todo-list").html(""),app.todoList.each(this.addOne,this)},newAttributes:function(){return{title:this.input.val().trim(),completed:!1}}}),app.appView=new app.AppView;