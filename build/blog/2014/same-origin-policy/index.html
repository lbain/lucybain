<!DOCTYPE html>
<html>
  <head>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <link href='/images/favicon.ico' rel='icon' type='image/ico'>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>
    <title>JS: same-origin policy</title>
    <link href="/stylesheets/application.css" media="all" rel="stylesheet" type="text/css" />
    <script src='//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js'></script>
  </head>
  <body>
    <div id='menu'>
      <div class='nav-open-btn'>
        <ul>
          <li></li>
          <li></li>
          <li></li>
        </ul>
      </div>
      <ul class='nav'>
        <li>
          <a class="nav-link" href="/">Me</a>
        </li>
        <li>
          <a class="nav-link" href="/resume/">Resume</a>
        </li>
        <li>
          <a class="nav-link" href="/contact-me/">Contact</a>
        </li>
        <li>
          <a class="nav-link" href="/resources/">Resources</a>
        </li>
        <li>
          <a class="nav-link active" href="/blog/">Blog</a>
        </li>
      </ul>
    </div>
    <script>
      $('#menu .nav-open-btn').on('click', function(){
        $('#menu .nav').toggleClass('open');
      })
    </script>
    <div class='content'>
      <div class=''>
        <h1>JS: same-origin policy</h1>
        <p>tags: <a href="/blog/tags/js/">js</a> and <a href="/blog/tags/interview-questions/">interview-questions</a></p>
        <h2>Explain the same-origin policy with regards to JavaScript.</h2>
        
        <p>The same-origin policy helps prevent malicious attacks by stopping code from another site executing on your site. An attacks like this is known as a <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">Cross Site Scripting</a> attack.</p>
        
        <p><em>How does JS decide if it&#39;s a &quot;same&quot; site?</em></p>
        
        <p>The &quot;origin&quot; is the same if three things are the same: the protocol (http vs. https), the domain (subdomain.yoursite.com vs. yoursite.com vs. google.com), and the port (:80 vs. :4567). If all three of these line up, then JS views the sites as the same, and code is executed. If any of them are different then the code is marked as potentially malicious and is not run.</p>
        
        <p><em>Hmmm, if I own &quot;subdomain.yoursite.com&quot; and &quot;yoursite.com&quot; I might want to share resources. This same-origin policy could be really annoying!</em></p>
        
        <p>It&#39;s possible to work around the subdomain problem. You can change the domain of a page, so it can access it&#39;s parent&#39;s resources:</p>
        <pre class="highlight plaintext">// in the code on subdomain.yoursite.com&#x000A;document.domain = "yoursite.com";</pre>
        <p>There are a couple other pieces to remember about changing the domain (mostly about the port). You can read about them <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Changing_origin">here</a>.</p>
        
        <p><strong>Resources</strong></p>
        
        <ul>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy">Mozilla</a></li>
        <li><a href="http://stackoverflow.com/questions/11474336/same-origin-policy-in-layman-terms">Stackoverflow</a></li>
        <li><a href="http://en.wikipedia.org/wiki/Same-origin_policy">Wikipedia</a></li>
        </ul>
        <div id='disqus_thread'></div>
        <script>
          var disqus_shortname = 'lucybain';
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>
          Please enable JavaScript to view the
          <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
        </noscript>
        <a class='dsq-brlink' href='http://disqus.com'>
          comments powered by
          <span class='logo-disqus'>Disqus</span>
        </a>
        <script>
          var disqus_shortname = 'lucybain';
          (function () {
              var s = document.createElement('script'); s.async = true;
              s.type = 'text/javascript';
              s.src = '//' + disqus_shortname + '.disqus.com/count.js';
              (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
        </script>
      </div>
    </div>
    
  </body>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
    ga('create', 'UA-45866381-1', 'lucybain.com');
    ga('send', 'pageview');
  </script>
</html>

